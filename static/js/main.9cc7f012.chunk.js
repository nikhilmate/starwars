(this.webpackJsonpstarwars=this.webpackJsonpstarwars||[]).push([[0],{13:function(e,t,a){e.exports=a(25)},18:function(e,t,a){},19:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(6),c=a.n(s),l=(a(18),a(1)),o=(a(19),a(2)),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.headers={"Content-Type":"application/json",Accept:"application/json"},t.body&&(t.body=JSON.stringify(t.body));try{return fetch(e,t).then((function(e){return e.status>=300?Promise.reject(e):204===e.status?Promise.resolve():Promise.resolve(e.json())}))}catch(a){return console.log(a),a}};function m(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return JSON.stringify(e)===JSON.stringify({})}function p(e){if("string"===typeof e){var t=e.replace("https://swapi.co/api/people/","");return t=t.replace("/","")}return!1}var u="https://swapi.co/api/",E=function(){return new Promise((function(e,t){for(var a={},r=0,n=1;n<10;n++)i("".concat(u,"people/?page=").concat(n)).then((function(t){t.results.map((function(e){var t=p(e.url);a[t]=e})),9===++r&&e(a)})).catch((function(t){9===++r&&e(a),console.log(t)}))}))},d=function(e){return new Promise((function(t,a){if("string"===typeof e){var r={};i(e).then((function(e){t(r=e)})).catch((function(e){t(r),console.log(e)}))}else for(var n=[],s=0,c=0;c<e.length;c++)i(e[c]).then((function(a){++s,n.push(a),s===e.length&&t(n)})).catch((function(a){++s===e.length&&t(n),console.log(a)}))}))},v=function(e){return i("".concat(u,"people/").concat(e))};function f(){return function(e){e({type:"CHANGE_PEOPLE_LOADER_STATE",status:!0});var t=localStorage.getItem("peopleData");if(!t)return E().then((function(t){var a=t;e({type:"ADD_PERSONS",persons:a});var r=JSON.stringify(a);localStorage.setItem("peopleData",r)})).catch((function(t){return e({type:"STATE_PEOPLE_ERROR",data:t})}));var a=JSON.parse(t);e({type:"ADD_PERSONS",persons:a})}}function g(e){return function(t){t({type:"CHANGE_PERSON_LOADER_STATE",status:!0});var a=!0,r=localStorage.getItem("peopleData");if(r){var n=JSON.parse(r);if(n&&Object.keys(n).length>0){var s=n[e];if(s&&Object.keys(s).length>0){a=!1,t({type:"CHANGE_PERSON_DATA",data:s});var c=s,l=c.films?c.films:[],o=c.species?c.species:[],i=""!==c.homeworld?c.homeworld:"";l.length>0&&d(l).then((function(e){t({type:"SET_MOVIES",movies:e})})),o.length>0&&d(o).then((function(e){t({type:"SET_SPECIES",species:e})})),i&&d(i).then((function(e){t({type:"SET_HOMEWORLD",homeworld:e})}))}}}if(a)return v(e).then((function(e){t({type:"CHANGE_PERSON_DATA",data:e});var a=e.films||[],r=e.species||[],n=""!==e.homeworld?e.homeworld:"";a.length>0&&d(a).then((function(e){t({type:"SET_MOVIES",movies:e})})),r.length>0&&d(r).then((function(e){t({type:"SET_SPECIES",species:e})})),n&&d(n).then((function(e){t({type:"SET_HOMEWORLD",homeworld:e})}))})).catch((function(e){return t({type:"STATE_PERSON_ERROR",data:e})}))}}var S=function(){return n.a.createElement("div",{className:"header__wrapper"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"init__animator"},n.a.createElement("div",{className:"header__border"},n.a.createElement("div",{className:"border__inner"},n.a.createElement("div",{className:"logo__wrap"},n.a.createElement("img",{src:"images/logo.svg",className:"xLogo img-xl",alt:"Stars Wars API"})),n.a.createElement("h1",{className:"logo__text"},"API"))))))};var O=Object(o.b)((function(e){return{personID:e.personID}}),(function(e){return{SET_PERSON:function(t){return e(function(e){return function(t){return t({type:"CHANGE_PERSON",id:e})}}(t))}}}))((function(e){var t=Object(r.useState)(e.personID),a=Object(l.a)(t,2),s=a[0],c=a[1];return Object(r.useEffect)((function(){c(e.personID)}),[e.personID]),n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{className:"main__input",type:"text",placeholder:"Enter Number from 1 to 87",onChange:function(t){return e.SET_PERSON(t.target.value)},value:s}))}));var _=Object(o.b)((function(e){return{peopleData:e.persons}}),{getPerson:g})((function(e){var t=e.peopleData,a=e.getPerson,s=Object(r.useState)(t),c=Object(l.a)(s,2),o=c[0],i=c[1];if(Object(r.useEffect)((function(){i(t)}),[t]),Object.keys(o).length>0){var m=Object.keys(o);return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"heading__wrap"},n.a.createElement("div",{className:"pr-inner"},n.a.createElement("p",{className:"id-text"},"ID"),n.a.createElement("p",{className:"pr-name"},"Name"),n.a.createElement("p",{className:"pr-gender"},"Gender"))),n.a.createElement("div",{className:"people__wrap"},n.a.createElement("div",{className:"people__block"},m.map((function(e,t){var r=o[e],s=e;return n.a.createElement("div",{key:t+1,id:t+1+"-pr-card",className:"pr-card"},n.a.createElement("div",{className:"pr-inner"},n.a.createElement("p",{className:"id-text"},s),n.a.createElement("p",{className:"pr-name"},r.name),n.a.createElement("p",{className:"pr-gender"},"n/a"===r.gender?":(":r.gender),n.a.createElement("a",{"data-pid":s,onClick:function(e){return function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-pid");a(t)}(e)},className:"view__btn"},"View")))})))))}return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"p-loader__wrap"},n.a.createElement("p",{className:"leftWrap"},"Getting Content...")))}));var N=Object(o.b)((function(e){return{movies:e.movies,species:e.species,homeworld:e.homeworld}}))((function(e){var t=Object(r.useState)(e.personData),a=Object(l.a)(t,2),s=a[0],c=a[1],o=Object(r.useState)({}),i=Object(l.a)(o,2),m=i[0],u=i[1],E=Object(r.useState)({}),d=Object(l.a)(E,2),v=d[0],f=d[1],g=Object(r.useState)({}),S=Object(l.a)(g,2),O=S[0],_=S[1];return Object(r.useEffect)((function(){c(e.personData),u(e.species),f(e.movies),_(e.homeworld)}),[e.species,e.movies,e.personData,e.homeworld]),n.a.createElement("div",{className:"person__wrap"},n.a.createElement("div",{className:"person__details"},n.a.createElement("div",{className:"result__text"},n.a.createElement("p",null,"Result id: ",p(s.url)?p(s.url):"")),n.a.createElement("div",{className:"ColWrap p-name"},n.a.createElement("div",{className:"rightWrap"},n.a.createElement("p",null,s.name,n.a.createElement("span",{className:"in__gender"}," (".concat(s.gender[0],")"))))),n.a.createElement("div",{className:"rowWrap"},n.a.createElement("div",{className:"leftWrap"},n.a.createElement("p",null,"Date Of Birth ")),n.a.createElement("div",{className:"rightWrap"},n.a.createElement("p",null,s.birth_year))),n.a.createElement("div",{className:"rowWrap"},n.a.createElement("div",{className:"leftWrap"},n.a.createElement("p",null,"Type")),n.a.createElement("div",{className:"rightWrap"},m.length>0?m.map((function(e,t){return n.a.createElement("p",{key:t,id:t},e.name)})):n.a.createElement("p",null,"Dont know yet!"))),n.a.createElement("div",{className:"rowWrap"},n.a.createElement("div",{className:"leftWrap"},n.a.createElement("p",null,"Height and Mass ")),n.a.createElement("div",{className:"rightWrap"},n.a.createElement("p",null,function(){var e=s.height,t=s.mass;return"unknown"!==e&&"unknown"!==t?"".concat(e,"cm / ").concat(t,"kg"):":("}()))),n.a.createElement("div",{className:"rowWrap"},n.a.createElement("div",{className:"leftWrap"},n.a.createElement("p",null,"Homeworld")),n.a.createElement("div",{className:"rightWrap"},n.a.createElement("p",null,O.name?O.name:"Don't know yet"))),n.a.createElement("div",{className:"rowWrap"},n.a.createElement("div",{className:"leftWrap"},n.a.createElement("p",null,"Looks ")),n.a.createElement("div",{className:"rightWrap"},n.a.createElement("p",null,"Eye Color : ".concat(s.eye_color,","),n.a.createElement("br",null),"Hair Color: ".concat(s.hair_color,","),n.a.createElement("br",null),"Skin Color: ".concat(s.skin_color)))),n.a.createElement("div",{className:"ColWrap"},n.a.createElement("div",{className:"leftWrap"},n.a.createElement("p",null,"Films ")),n.a.createElement("div",{className:"rightWrap"},v.length>0?v.sort((function(e,t){return e.release_date.split("-")[0]-t.release_date.split("-")[0]})).map((function(e,t){return n.a.createElement("p",{key:t+1},"".concat(e.title," (").concat(e.release_date.split("-")[0],")"))})):n.a.createElement("p",null,"Dont know yet!")))))}));var b=Object(o.b)((function(e){return{loaderState:e.loaderState.getPersonState}}))((function(e){var t=Object(r.useState)(e.loaderState),a=Object(l.a)(t,2),s=a[0],c=a[1];return Object(r.useEffect)((function(){c(e.loaderState)}),[e.loaderState]),n.a.createElement("div",{className:"person__loader ".concat(s?"fadIn":"fadOut")},n.a.createElement("div",{className:"person-loader__inner"},n.a.createElement("p",null,"Loading Content...")))}));var h=Object(o.b)((function(e){return{loaderState:e.loaderState.getPersonState,personData:e.personData,personError:e.error.getPersonState}}),null)((function(e){var t=Object(r.useState)(e.loaderState),a=Object(l.a)(t,2),s=a[0],c=a[1],o=Object(r.useState)(e.personData),i=Object(l.a)(o,2),p=i[0],u=i[1],E=Object(r.useState)(e.personError),d=Object(l.a)(E,2),v=d[0],f=d[1];return Object(r.useEffect)((function(){c(e.loaderState),u(e.personData),f(e.personError)}),[e.loaderState,e.personData,e.personError]),v&&v.status?n.a.createElement("div",{className:"default-person__wrap"},n.a.createElement("div",{className:"leftWrap"},"Could Not Find :(")):m(p)?s?n.a.createElement(n.a.Fragment,null,n.a.createElement(b,null)):n.a.createElement("div",{className:"default-person__wrap"},n.a.createElement("div",{className:"leftWrap"},"No Person Yet..")):n.a.createElement(n.a.Fragment,null,s?n.a.createElement(b,null):n.a.createElement(N,{personData:p}))}));var j={getPerson:g},P=Object(o.b)((function(e){return{personID:e.personID,personData:e.personData}}),j)((function(e){var t=Object(r.useState)(e.personID),a=Object(l.a)(t,2),s=a[0],c=a[1],o=Object(r.useState)(!0),i=Object(l.a)(o,2),m=i[0],u=i[1],E=Object(r.useState)({}),d=Object(l.a)(E,2),v=d[0],f=d[1];Object(r.useEffect)((function(){c(e.personID),f(e.personData)}),[e.personID,e.personData]);var g=function(t){t.preventDefault(),p(v.url)!==s&&e.getPerson(s)};return n.a.createElement("div",{className:"App"},n.a.createElement(S,null),n.a.createElement("div",{className:"user__section"},n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"user__h1"},"Search By "),n.a.createElement("h1",{className:"user__h1 scale__in"},"ID"),n.a.createElement("div",{className:"input__wrapper"},n.a.createElement(O,null),""===s||isNaN(s)||parseInt(s)<1||parseInt(s)>88?n.a.createElement("button",{className:"main__btn",onClick:function(e){return g(e)},disabled:!0},"GO!"):n.a.createElement("button",{className:"main__btn",onClick:function(e){return g(e)}},"GO!")))),n.a.createElement("div",{className:"person__Table-wrap"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"tb__inner"},n.a.createElement(h,null)))),n.a.createElement("div",{className:"default__list moveup active"},n.a.createElement("h3",{className:"pr-heading"},"Star Wars Family"),n.a.createElement("p",{className:"toggle_list",onClick:function(e){return function(e){var t=document.querySelector(".default__list");!1===m?(t.classList.add("moveup"),t.classList.remove("movedown"),t.classList.add("active"),u(!0)):(t.classList.add("movedown"),t.classList.remove("moveup"),t.classList.remove("active"),u(!1))}()}},m?"Hide":"see more"),n.a.createElement(_,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=a(5),w=a(12),y={loaderState:{getPeopleState:!1,getPersonState:!1},error:{getPeopleState:{},getPersonState:{}},personID:"",personData:{},movies:[],species:[],homeworld:{},persons:{}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PERSON":return Object.assign({},e,{error:Object.assign({},e.error,{getPersonState:{}}),personID:t.id});case"CHANGE_PERSON_DATA":return"object"===typeof t.data?Object.assign({},e,{loaderState:Object.assign({},e.loaderState,{getPersonState:!1}),error:Object.assign({},e.error,{getPersonState:{}}),personData:Object.assign({},t.data),movies:[],species:[]}):e;case"ADD_PERSONS":return t.persons!=={}?Object.assign({},e,{loaderState:Object.assign({},e.loaderState,{getPeopleState:!1}),error:Object.assign({},e.error,{getPeopleState:{}}),persons:t.persons}):e;case"CHANGE_PEOPLE_LOADER_STATE":return void 0!==t.status?Object.assign({},e,{error:Object.assign({},e.error,{getPeopleState:{}}),loaderState:Object.assign({},e.loaderState,{getPeopleState:t.status})}):e;case"CHANGE_PERSON_LOADER_STATE":return void 0!==t.status?Object.assign({},e,{error:Object.assign({},e.error,{getPersonState:{}}),loaderState:Object.assign({},e.loaderState,{getPersonState:t.status}),personData:{}}):e;case"STATE_PEOPLE_ERROR":return Object.assign({},e,{error:Object.assign({},e.error,{getPeopleState:t.data}),loaderState:Object.assign({},e.loaderState,{getPeopleState:!1})});case"STATE_PERSON_ERROR":return Object.assign({},e,{error:Object.assign({},e.error,{getPersonState:t.data}),loaderState:Object.assign({},e.loaderState,{getPersonState:!1})});case"SET_MOVIES":return Object.assign({},e,{movies:t.movies});case"SET_SPECIES":return Object.assign({},e,{species:t.species});case"SET_HOMEWORLD":return Object.assign({},e,{homeworld:t.homeworld});default:return e}},R=Object(D.c)(A,Object(D.a)(w.a));R.dispatch(f());var T=setInterval((function(){m(R.getState().error.getPeopleState)?clearInterval(T):R.dispatch(f())}),15e3);R.subscribe((function(){var e=R.getState();console.log(e)}));var I=n.a.createElement(o.a,{store:R},n.a.createElement(P,null));c.a.render(I,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[13,1,2]]]);
//# sourceMappingURL=main.9cc7f012.chunk.js.map